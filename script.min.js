function initScrollAnimations(){const n=document.querySelectorAll(".feature-card, .step, .testimonial-card, .pricing-card, .section-header");n.forEach(n=>{n.classList.add("animate-on-scroll")});const e=new IntersectionObserver(n=>{n.forEach((n,t)=>{n.isIntersecting&&(setTimeout(()=>{n.target.classList.add("visible")},100*t),e.unobserve(n.target))})},{root:null,rootMargin:"0px 0px -100px 0px",threshold:.1});n.forEach(n=>e.observe(n))}function initMobileNavigation(){const n=document.querySelector(".nav-mobile-toggle"),e=document.querySelector(".nav");if(!n)return;const t=document.createElement("div");t.className="nav-mobile-menu",t.innerHTML='\n        <div class="nav-mobile-links">\n            <a href="#features">Features</a>\n            <a href="#how-it-works">How it Works</a>\n            <a href="#pricing">Pricing</a>\n            <a href="https://apps.apple.com/app/scanlens" class="nav-btn-primary">Download App</a>\n        </div>\n    ';const o=document.createElement("style");o.textContent="\n        .nav-mobile-menu {\n            position: fixed;\n            top: var(--nav-height);\n            left: 0;\n            right: 0;\n            background: rgba(245, 245, 247, 0.98);\n            backdrop-filter: saturate(180%) blur(20px);\n            -webkit-backdrop-filter: saturate(180%) blur(20px);\n            padding: var(--space-6);\n            transform: translateY(-100%);\n            opacity: 0;\n            visibility: hidden;\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            z-index: 999;\n            border-bottom: 1px solid var(--color-border-subtle);\n        }\n\n        .nav-mobile-menu.open {\n            transform: translateY(0);\n            opacity: 1;\n            visibility: visible;\n        }\n\n        .nav-mobile-links {\n            display: flex;\n            flex-direction: column;\n            gap: var(--space-4);\n        }\n\n        .nav-mobile-links a {\n            font-size: var(--font-size-lg);\n            font-weight: 500;\n            color: var(--color-text-secondary);\n            padding: var(--space-3) 0;\n            border-bottom: 1px solid var(--color-border-subtle);\n            transition: color var(--transition-fast);\n        }\n\n        .nav-mobile-links a:hover {\n            color: var(--color-text);\n        }\n\n        .nav-mobile-links .nav-btn-primary {\n            display: inline-flex;\n            justify-content: center;\n            margin-top: var(--space-4);\n            padding: var(--space-4);\n            background: var(--color-primary);\n            color: white !important;\n            border-radius: var(--radius-xl);\n            border: none;\n        }\n\n        .nav-mobile-toggle.open span:first-child {\n            transform: rotate(45deg) translate(4px, 4px);\n        }\n\n        .nav-mobile-toggle.open span:last-child {\n            transform: rotate(-45deg) translate(4px, -4px);\n        }\n\n        .nav-mobile-toggle span {\n            transition: transform 0.3s ease;\n        }\n    ",document.head.appendChild(o),e.appendChild(t),n.addEventListener("click",()=>{n.classList.toggle("open"),t.classList.toggle("open"),document.body.style.overflow=t.classList.contains("open")?"hidden":""}),t.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{n.classList.remove("open"),t.classList.remove("open"),document.body.style.overflow=""})}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("open")&&(n.classList.remove("open"),t.classList.remove("open"),document.body.style.overflow="")})}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(n){const e=this.getAttribute("href");if("#"===e)return;const t=document.querySelector(e);if(!t)return;n.preventDefault();const o=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--nav-height")),i=t.getBoundingClientRect().top+window.pageYOffset-o-20;window.scrollTo({top:i,behavior:"smooth"})})})}function initFloatingElements(){const n=document.querySelectorAll(".float-card, .float-badge");if(0===n.length||window.innerWidth<769)return;let e=null,t=0,o=0;function i(){n.forEach((n,e)=>{const i=5*(e+1),a=t*i,r=o*i;n.style.transform=`translate(${a}px, ${r}px) rotate(var(--rotation, 0deg))`}),e=requestAnimationFrame(i)}document.addEventListener("mousemove",n=>{t=2*(n.clientX/window.innerWidth-.5),o=2*(n.clientY/window.innerHeight-.5)}),window.matchMedia("(min-width: 1024px)").matches&&i(),document.addEventListener("visibilitychange",()=>{document.hidden&&e?cancelAnimationFrame(e):!document.hidden&&window.matchMedia("(min-width: 1024px)").matches&&i()})}document.addEventListener("DOMContentLoaded",()=>{initScrollAnimations(),initMobileNavigation(),initSmoothScroll(),initFloatingElements()}),function(){const n=document.querySelector(".nav");let e=0;window.addEventListener("scroll",()=>{const t=window.pageYOffset;t>100?(n.style.background="rgba(245, 245, 247, 0.95)",n.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.08)"):(n.style.background="rgba(245, 245, 247, 0.8)",n.style.boxShadow="none"),e=t},{passive:!0})}(),function(){const n=document.querySelectorAll(".stat-value"),e=new IntersectionObserver(n=>{n.forEach(n=>{n.isIntersecting&&(!function(n){const e=n.textContent,t=e.includes("+"),o=e.includes("."),i=parseFloat(e.replace(/[^0-9.]/g,""));if(isNaN(i))return;const a=2e3,r=performance.now();function s(l){const c=l-r,d=Math.min(c/a,1),m=1-Math.pow(1-d,3),u=i*m;if(o)n.textContent=u.toFixed(1)+(t?"+":"");else{const o=e.includes("M")?"M":e.includes("K")?"K":"";n.textContent=Math.floor(u)+o+(t?"+":"")}d<1&&requestAnimationFrame(s)}requestAnimationFrame(s)}(n.target),e.unobserve(n.target))})},{threshold:.5});n.forEach(n=>e.observe(n))}();